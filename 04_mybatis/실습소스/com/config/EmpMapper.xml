<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.config.EmpMapper">

     <!-- 선택적인 update
          update emp
		 -set sal = 값
		 -set ename = 값
		 set sal = 값, ename = 값
		 where empno= 값;
      -->
     <update id="update" parameterType="EmpDTO">
     	  update emp
     	  <set>
     	    <if test="sal != 0">sal=#{sal},</if>
     	    <if test="ename != null">ename=#{ename}</if>
     	  </set>
     	  where empno = #{empno}
     </update> 



     <!-- 
         delete from emp
		  where empno IN ( 800, 1000, .. )
     -->
    <delete id="remove" parameterType="arraylist">
         delete from emp
         where empno IN
         <foreach item="x"  collection="list" 
                 open="(" separator="," close=")">
            #{x}
         </foreach>
    </delete>



    <!-- 
      insert into emp ( empno,ename,sal)
	  valuse (10,'a',100),(20,'a',100),(),...
    -->
    <insert id="multiInsert" parameterType="arraylist">
       insert into emp ( empno,ename, job, mgr, hiredate,sal,comm, deptno)
       values
       <foreach item="dto"  collection="list" separator=",">
         (#{dto.empno}, #{dto.ename},#{dto.job},#{dto.mgr},
          now(),#{dto.sal},#{dto.comm},#{dto.deptno})
       </foreach>
    </insert>
</mapper>


